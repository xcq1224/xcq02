{"version":3,"sources":["webpack:///src/page/competitor.vue","webpack:///./src/page/competitor.vue?870a","webpack:///./src/page/competitor.vue"],"names":["required","message","trigger","_this","this","getData","_this2","list","_this3","_this4","_this5","selectValue","id","clearSelection","val","page_competitor","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","label-position","size","inline","model","dsQuery","label-width","label","clearable","placeholder","value","callback","$$v","$set","expression","_v","type","on","click","$event","query_show","class","directives","name","rawName","_l","item","key","staticStyle","width","margin-right","start-placeholder","end-placeholder","value-format","default-time","addOpen","deleteBtn","ref","margin-top","data","tableData","slice","currentPage","pagesize","max-height","border","default-sort","prop","order","selection-change","handleSelectionChange","scopedSlots","_u","fn","scope","to","row","_s","createTime","split","float","background","layout","page-size","current-page","total","length","current-change","handleCurrentChange","title","visible","dialogAddVisible","close-on-click-modal","update:visible","open","openModal","close","closeModal","addForm","rules","index","editorType","resize","autosize","_e","options","cityData","slot","addSave","staticRenderFns","Component","__webpack_require__","normalizeComponent","competitor","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/18.10d6ba7dbdd04089fc46.js","sourcesContent":["<template>\n  <div class=\"wrap\">\n     <!--查询表单-->\n    <el-form label-position=\"left\" size=\"small\" :inline=\"true\" :model=\"dsQuery\" label-width='70px' class=\"query-form\">\n      <el-form-item label=\"名称\">\n        <el-input v-model=\"dsQuery.name\" clearable placeholder=\"\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"getData\">查询</el-button>\n      </el-form-item>\n      <el-form-item>\n        &nbsp;&nbsp;&nbsp;&nbsp;<a class=\"text-base\" @click='query_show = !query_show; '>更多查询条件<i :class=\"'iconfont icon-'+query_show\"></i></a>\n      </el-form-item>\n      <div v-show=\"query_show\">\n        <div class=\"input-box\">\n          <el-form-item label=\"电话\">\n            <el-input v-model=\"dsQuery.phone\" placeholder=\"\" clearable></el-input>\n          </el-form-item>\n          <el-form-item label=\"竞争力\">\n            <el-select v-model=\"dsQuery.power\" clearable placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in jzl\"\n                :key=\"item\"\n                :label=\"item\"\n                :value=\"item\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"创建时间\">\n              <el-date-picker\n                  v-model=\"dsQuery.create_time\"\n                  type=\"daterange\"\n                  style=\"width: 250px; margin-right: 30px;\"\n                  start-placeholder=\"开始日期\"\n                  end-placeholder=\"结束日期\"\n                  value-format=\"yyyy-MM-dd\"\n                  :default-time=\"['00:00:00', '23:59:59']\">\n              </el-date-picker>\n          </el-form-item>\n        </div>\n      </div>\n    </el-form>\n    <!--操作按钮-->\n    <el-row>\n      <el-button type=\"primary\" size=\"small\" @click=\"addOpen\">新增</el-button>\n      <!-- <el-button type=\"primary\" size=\"small\" @click=\"test()\">导入</el-button> -->\n      <el-button type=\"primary\" size=\"small\" @click=\"deleteBtn\">删除</el-button>\n      <!-- <el-button type=\"primary\" size=\"small\" @click=\"dialogMergeVisible = true\">转给他人</el-button>\n      <el-button type=\"primary\" size=\"small\" @click=\"dialogTransferVisible = true\">扫描名片</el-button> -->\n    </el-row>\n    <!--联系人表格数据展示-->\n    <el-table class=\"table\" ref=\"table\" :data=\"tableData.slice((currentPage-1)*pagesize,currentPage*pagesize)\"\n               max-height=\"500\" border style=\"width: 100%; margin-top: 20px;\"\n               @selection-change=\"handleSelectionChange\"\n               :default-sort=\"{prop: 'name', order: 'creatTime'}\">\n      <el-table-column type=\"selection\" width=\"40\"></el-table-column>\n      <el-table-column prop=\"name\" label=\"名称\">\n        <template slot-scope=\"scope\">\n          <router-link class=\"text-base\" :to=\"'./competitor_detail?id=' + scope.row.id\">{{scope.row.name}}</router-link>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"phone\"  label=\"电话\"></el-table-column>\n      <el-table-column prop=\"scale\" label=\"规模\"></el-table-column>\n      <el-table-column prop=\"power\" label=\"竞争力\"></el-table-column>\n      <el-table-column prop=\"createUserCname\" label=\"创建者\"></el-table-column>\n      <el-table-column prop=\"createTime\" label=\"创建时间\">\n        <template slot-scope=\"scope\">\n          {{scope.row.createTime.split(' ')[0]}}\n        </template>\n      </el-table-column>\n    </el-table>\n    <br/>\n    <!--分页-->\n    <el-pagination background layout=\"total,prev, pager, next\"\n                   :page-size=\"pagesize\"\n                   @current-change=\"handleCurrentChange\"\n                   :current-page=\"currentPage\"\n                   :total=\"tableData.length\" style=\"float: right;\">\n    </el-pagination>\n    <!--新增弹框-->\n    <el-dialog title=\"新增竞争对手\" width=\"600px\" class=\"dialogAdd\"\n               :visible.sync=\"dialogAddVisible\" @open=\"openModal\" @close=\"closeModal\" :close-on-click-modal='false'>\n\n      <el-form ref=\"addForm\" :model=\"addForm\" :rules=\"rules\" label-position=\"left\" label-width=\"120px\" size=\"small\">\n        <el-form-item v-for=\"(item,index) in addLabel\" :key=\"index\" :prop=\"item.name\" :label=\"item.label\">\n          <el-input type=\"textarea\" resize=\"none\" autosize v-if=\"item.editorType == 'text'\" v-model=\"addForm[item.name]\"></el-input>\n          <el-date-picker v-if=\"item.editorType == 'date'\" v-model=\"addForm[item.name]\" value-format=\"yyyy-MM-dd\" type=\"date\" placeholder=\"选择日期\"></el-date-picker>\n          <el-select v-if=\"item.editorType == 'dict'\" v-model=\"addForm[item.name]\">\n            <el-option\n              v-if=\"item.editorType == 'dict'\"\n              v-for=\"value in item.selectList\"\n              :key=\"value\"\n              :label=\"value\"\n              :value=\"value\">\n            </el-option>\n          </el-select>\n          <el-cascader\n            v-if=\"item.editorType == 'cascade'\"\n            size=\"small\"\n            :options=\"cityData()\"\n            v-model=\"addForm[item.name]\">\n          </el-cascader>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogAddVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addSave\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import {mapState, mapActions, mapMutations} from 'vuex'\n  import {regionData, CodeToText, TextToCode} from 'element-china-area-data'\n  export default {\n    data() {\n      return {\n        jzl: [],      //  竞争力\n        tableData: [],    //  所有竞争对手\n        addLabel: [],       //  新增label\n        addForm:{area: []},         //  新增对象\n        rules: {\n          name: [\n            { required: true, message: '请选择客户', trigger: 'blur' },\n          ],\n          phone: [\n            { required: true, message: '请输入电话', trigger: 'blur' },\n          ]\n        }, //  新增联系人验证规则\n        options: regionData,    //  省市区配置\n        dsQuery: {            //  查询条件\n          name: '',           //  名称\n          phone: '',            //  电话\n          power: '',            //  竞争力\n          create_time: [],    //  创建时间\n        },\n        query_show: false,          //  是否显示更多查询\n        dialogAddVisible: false,//弹框是否显示\n        selectValue:[],//勾选的数据\n        currentPage: 1,//默认开始页面\n        pagesize: 20,//每页的数据条数\n      }\n    },\n    mounted(){\n      //  获取数据字典\n      let list = [\"crm-jzl\"]\n      this.$post(\"/crm/getDict\", {\"list\": list}, (data) => {\n        this.jzl = data['crm-jzl']\n      })\n    },\n    activated() {\n      this.getData();\n    },\n\n    methods: {\n      //  获取竞争对手列表\n      getData(){\n        this.$post(\"/crm/competitorPR/getAll\", this.dsQuery, (data) => {\n          this.tableData = data.list\n        })\n      },\n/**------------------------------------------新增------------------------------------------ */\n      //  点击新增按钮\n      addOpen() {\n        this.dialogAddVisible = true;\n      },\n      //  打开新增模态框\n      openModal(){\n        if(!this.addLabel.length){\n          this.$post(\"/crm/extFieldPR/getField\", {tableName: 'crm_competitor'}, (data) => {\n            this.addLabel = data.list;\n          })\n        }\n      },\n      //  关闭新增模态框，清除数据\n      closeModal(){\n        this.addForm = {area: []}\n      },\n      //  新增数据\n      addSave() {\n        this.$refs.addForm.validate((valid) => {\n          if (valid) {\n            this.$post(\"/crm/competitorPR/addOne\",this.addForm, (data) => {\n              this.$notify.success({ message: '操作成功！'});\n              this.getData();\n              this.dialogAddVisible = false;\n            })\n          }\n        });\n      },\n      \n\n      //  删除按钮\n      deleteBtn() {\n        let that = this\n        var select_value = this.selectValue;\n        if (select_value.length < 1) {\n          this.$message.error('请勾选数据！');\n          return;\n        };\n        this._confirm('确定删除吗?', () => {\n          let list = []\n          this.selectValue.map(item => {\n            list.push(item.id)\n          })\n          this.$post('/crm/competitorPR/delete', {\"list\": list}, (data) => {\n            if(data.message){\n              this.$message.error(data.message)\n            }else{\n              this.$message.success(\"删除成功！\")\n            }\n            this.$refs.table.clearSelection()\n            this.getData();\n          })\n        })\n      },\n\n\n      //  勾选的数据\n      handleSelectionChange(val) {\n         this.selectValue = val;\n      },\n      //  分页\n      handleCurrentChange(val){\n        this.currentPage = val;\n      },\n    },\n  }\n</script>\n<style lang=\"less\" scoped>\n  .el-tag + .el-tag {\n    margin-left: 10px;\n    margin-bottom: 10px;\n  }\n  .button-new-tag {\n    margin-left: 10px;\n    height: 32px;\n    line-height: 30px;\n    padding-top: 0;\n    padding-bottom: 0;\n  }\n  .input-new-tag {\n    width: 90px !important;\n    margin-left: 10px;\n    vertical-align: bottom;\n  }\n  .query-form{\n    .el-input, .el-select, .el-date-picker{\n        width: 250px;\n        margin-right: 30px;\n    }\n  }\n  .dialogAdd {\n    .el-input, .el-cascader, .el-select, .el-textarea {\n      width: 400px;\n    }\n    .upload-box{\n      border: 1px solid #ddd;\n      width: 60px;\n      height: 60px;\n      text-align: center;\n      cursor: pointer;\n      i{\n        font-size: 30px;\n        line-height: 60px;\n        color: #ddd;\n      }\n      img{\n        max-width: 100%;\n        max-height: 100%;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/competitor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('el-form',{staticClass:\"query-form\",attrs:{\"label-position\":\"left\",\"size\":\"small\",\"inline\":true,\"model\":_vm.dsQuery,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"\"},model:{value:(_vm.dsQuery.name),callback:function ($$v) {_vm.$set(_vm.dsQuery, \"name\", $$v)},expression:\"dsQuery.name\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getData}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-form-item',[_vm._v(\"\\n          \"),_c('a',{staticClass:\"text-base\",on:{\"click\":function($event){_vm.query_show = !_vm.query_show;}}},[_vm._v(\"更多查询条件\"),_c('i',{class:'iconfont icon-'+_vm.query_show})])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query_show),expression:\"query_show\"}]},[_c('div',{staticClass:\"input-box\"},[_c('el-form-item',{attrs:{\"label\":\"电话\"}},[_c('el-input',{attrs:{\"placeholder\":\"\",\"clearable\":\"\"},model:{value:(_vm.dsQuery.phone),callback:function ($$v) {_vm.$set(_vm.dsQuery, \"phone\", $$v)},expression:\"dsQuery.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"竞争力\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.dsQuery.power),callback:function ($$v) {_vm.$set(_vm.dsQuery, \"power\", $$v)},expression:\"dsQuery.power\"}},_vm._l((_vm.jzl),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"创建时间\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"250px\",\"margin-right\":\"30px\"},attrs:{\"type\":\"daterange\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\",\"default-time\":['00:00:00', '23:59:59']},model:{value:(_vm.dsQuery.create_time),callback:function ($$v) {_vm.$set(_vm.dsQuery, \"create_time\", $$v)},expression:\"dsQuery.create_time\"}})],1)],1)])],1),_vm._v(\" \"),_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.addOpen}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.deleteBtn}},[_vm._v(\"删除\")])],1),_vm._v(\" \"),_c('el-table',{ref:\"table\",staticClass:\"table\",staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.tableData.slice((_vm.currentPage-1)*_vm.pagesize,_vm.currentPage*_vm.pagesize),\"max-height\":\"500\",\"border\":\"\",\"default-sort\":{prop: 'name', order: 'creatTime'}},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"40\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{staticClass:\"text-base\",attrs:{\"to\":'./competitor_detail?id=' + scope.row.id}},[_vm._v(_vm._s(scope.row.name))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"电话\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"scale\",\"label\":\"规模\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"power\",\"label\":\"竞争力\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createUserCname\",\"label\":\"创建者\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.createTime.split(' ')[0])+\"\\n      \")]}}])})],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"background\":\"\",\"layout\":\"total,prev, pager, next\",\"page-size\":_vm.pagesize,\"current-page\":_vm.currentPage,\"total\":_vm.tableData.length},on:{\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('el-dialog',{staticClass:\"dialogAdd\",attrs:{\"title\":\"新增竞争对手\",\"width\":\"600px\",\"visible\":_vm.dialogAddVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogAddVisible=$event},\"open\":_vm.openModal,\"close\":_vm.closeModal}},[_c('el-form',{ref:\"addForm\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.rules,\"label-position\":\"left\",\"label-width\":\"120px\",\"size\":\"small\"}},_vm._l((_vm.addLabel),function(item,index){return _c('el-form-item',{key:index,attrs:{\"prop\":item.name,\"label\":item.label}},[(item.editorType == 'text')?_c('el-input',{attrs:{\"type\":\"textarea\",\"resize\":\"none\",\"autosize\":\"\"},model:{value:(_vm.addForm[item.name]),callback:function ($$v) {_vm.$set(_vm.addForm, item.name, $$v)},expression:\"addForm[item.name]\"}}):_vm._e(),_vm._v(\" \"),(item.editorType == 'date')?_c('el-date-picker',{attrs:{\"value-format\":\"yyyy-MM-dd\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.addForm[item.name]),callback:function ($$v) {_vm.$set(_vm.addForm, item.name, $$v)},expression:\"addForm[item.name]\"}}):_vm._e(),_vm._v(\" \"),(item.editorType == 'dict')?_c('el-select',{model:{value:(_vm.addForm[item.name]),callback:function ($$v) {_vm.$set(_vm.addForm, item.name, $$v)},expression:\"addForm[item.name]\"}},_vm._l((item.selectList),function(value){return (item.editorType == 'dict')?_c('el-option',{key:value,attrs:{\"label\":value,\"value\":value}}):_vm._e()})):_vm._e(),_vm._v(\" \"),(item.editorType == 'cascade')?_c('el-cascader',{attrs:{\"size\":\"small\",\"options\":_vm.cityData()},model:{value:(_vm.addForm[item.name]),callback:function ($$v) {_vm.$set(_vm.addForm, item.name, $$v)},expression:\"addForm[item.name]\"}}):_vm._e()],1)})),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogAddVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addSave}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-733effce\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/competitor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-733effce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./competitor.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./competitor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./competitor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-733effce\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./competitor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-733effce\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/competitor.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}