{"version":3,"sources":["webpack:///./src/page/CrmCustomerField.vue?1f68","webpack:///./src/page/CrmCustomerField.vue","webpack:///src/page/CrmCustomerField.vue"],"names":["page_CrmCustomerField","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","label-position","size","inline","label-width","label","placeholder","model","value","callback","$$v","tableName","expression","_l","item","key","_v","type","on","click","getTableField","$event","addCrmField","updateCrmField","deleteCrmField","ref","staticStyle","width","data","tableData","slice","currentPage","pagesize","border","default-sort","prop","order","row-key","selection-change","handleSelectionChange","reserve-selection","_e","float","background","layout","page-size","current-page","total","length","current-change","handleCurrentChange","title","visible","dialogVisible","update:visible","close","dlgClose","crmCustomerFieldAdd","rules","field_rules","$set","directives","name","rawName","disabled","slot","crmCustomerFieldSave","staticRenderFns","Component","__webpack_require__","normalizeComponent","required","message","trigger","_this","list","val","_this2","selectValue","id","clearSelection","_this3","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.d4bfe5faa2a5605d546f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('el-form',{staticClass:\"query-form\",attrs:{\"label-position\":\"left\",\"size\":\"small\",\"inline\":true,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"表名\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.tableName),callback:function ($$v) {_vm.tableName=$$v},expression:\"tableName\"}},_vm._l((_vm.tableList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getTableField}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.addCrmField()}}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.updateCrmField()}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.deleteCrmField()}}},[_vm._v(\"删除\")])],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-table',{ref:\"table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData.slice((_vm.currentPage-1)*_vm.pagesize,_vm.currentPage*_vm.pagesize),\"border\":\"\",\"default-sort\":{prop: 'sortNum', order: 'descending'},\"row-key\":\"id\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"reserve-selection\":true,\"width\":\"55\"}}),_vm._v(\" \"),(false)?_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"主键\",\"width\":\"180\"}}):_vm._e(),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"fieldNo\",\"label\":\"字段名称\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"fieldName\",\"label\":\"中文显示\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"isShow\",\"label\":\"是否显示\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"fieldType\",\"label\":\"字段类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"cosSpan\",\"label\":\"占格数\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sortNum\",\"label\":\"排序\"}})],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"background\":\"\",\"layout\":\"total,prev, pager, next\",\"page-size\":_vm.pagesize,\"current-page\":_vm.currentPage,\"total\":_vm.tableData.length},on:{\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"\",\"visible\":_vm.dialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":function($event){_vm.dlgClose('crmCustomerFieldAdd')}}},[_c('el-form',{ref:\"crmCustomerFieldAdd\",attrs:{\"model\":_vm.crmCustomerFieldAdd,\"rules\":_vm.field_rules,\"label-position\":\"left\",\"label-width\":\"120px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"中文显示:\",\"prop\":\"fieldName\"}},[_c('el-input',{model:{value:(_vm.crmCustomerFieldAdd.fieldName),callback:function ($$v) {_vm.$set(_vm.crmCustomerFieldAdd, \"fieldName\", $$v)},expression:\"crmCustomerFieldAdd.fieldName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否显示:\",\"prop\":\"isShow\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.crmCustomerFieldAdd.isShow),callback:function ($$v) {_vm.$set(_vm.crmCustomerFieldAdd, \"isShow\", $$v)},expression:\"crmCustomerFieldAdd.isShow\"}},_vm._l((_vm.true_or_false),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"字段类型:\",\"prop\":\"fieldType\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.crmCustomerFieldAdd.fieldType),callback:function ($$v) {_vm.$set(_vm.crmCustomerFieldAdd, \"fieldType\", $$v)},expression:\"crmCustomerFieldAdd.fieldType\"}},_vm._l((_vm.field_type),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"字典名:\",\"prop\":\"dictName\"}},[_c('el-input',{model:{value:(_vm.crmCustomerFieldAdd.dictName),callback:function ($$v) {_vm.$set(_vm.crmCustomerFieldAdd, \"dictName\", $$v)},expression:\"crmCustomerFieldAdd.dictName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"占格数:\",\"prop\":\"cosSpan\"}},[_c('el-input',{model:{value:(_vm.crmCustomerFieldAdd.cosSpan),callback:function ($$v) {_vm.$set(_vm.crmCustomerFieldAdd, \"cosSpan\", $$v)},expression:\"crmCustomerFieldAdd.cosSpan\"}})],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],attrs:{\"label\":\"主键:\",\"prop\":\"id\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.crmCustomerFieldAdd.id),callback:function ($$v) {_vm.$set(_vm.crmCustomerFieldAdd, \"id\", $$v)},expression:\"crmCustomerFieldAdd.id\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序:\",\"prop\":\"sortNum\"}},[_c('el-input',{model:{value:(_vm.crmCustomerFieldAdd.sortNum),callback:function ($$v) {_vm.$set(_vm.crmCustomerFieldAdd, \"sortNum\", $$v)},expression:\"crmCustomerFieldAdd.sortNum\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.crmCustomerFieldSave('crmCustomerFieldAdd')}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b85a2e00\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/CrmCustomerField.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b85a2e00\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CrmCustomerField.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CrmCustomerField.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CrmCustomerField.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b85a2e00\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./CrmCustomerField.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b85a2e00\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/CrmCustomerField.vue\n// module id = null\n// module chunks = ","<template>\n\n  <div class=\"wrap\">\n    <!--查询表单-->\n    <el-form label-position=\"left\" size=\"small\" :inline=\"true\" label-width='70px' class=\"query-form\">\n      <el-form-item label=\"表名\">\n        <el-select v-model=\"tableName\" placeholder=\"请选择\">\n          <el-option\n            v-for=\"item in tableList\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"getTableField\">查询</el-button>\n      </el-form-item>\n    </el-form>\n    <!--工具栏-->\n    <el-row>\n      <el-button type=\"primary\" size=\"small\" @click=\"addCrmField()\">新增</el-button>\n      <el-button type=\"primary\" size=\"small\" @click=\"updateCrmField()\">修改</el-button>\n      <el-button type=\"primary\" size=\"small\" @click=\"deleteCrmField()\">删除</el-button>\n    </el-row>\n    <br/>\n\n    <!--表格-->\n    <el-table  :data=\"tableData.slice((currentPage-1)*pagesize,currentPage*pagesize)\"\n               @selection-change=\"handleSelectionChange\" border style=\"width: 100%\"\n               :default-sort = \"{prop: 'sortNum', order: 'descending'}\" row-key=\"id\" ref=\"table\">\n      <!--表头结束-->\n\n      <el-table-column type=\"selection\" :reserve-selection=\"true\" width=\"55\"></el-table-column>\n      <el-table-column v-if=\"false\" prop=\"id\" label=\"主键\" width=\"180\"></el-table-column>\n      <el-table-column prop=\"fieldNo\" label=\"字段名称\" width=\"180\"></el-table-column>\n      <el-table-column prop=\"fieldName\" label=\"中文显示\"></el-table-column>\n      <el-table-column prop=\"isShow\" label=\"是否显示\"></el-table-column>\n      <el-table-column prop=\"fieldType\" label=\"字段类型\"></el-table-column>\n      <el-table-column prop=\"cosSpan\" label=\"占格数\"></el-table-column>\n      <el-table-column prop=\"sortNum\" label=\"排序\"></el-table-column>\n    </el-table>\n\n    <br/>\n    <!--分页-->\n    <el-pagination background layout=\"total,prev, pager, next\"\n                   :page-size=\"pagesize\"\n                   @current-change=\"handleCurrentChange\"\n                   :current-page=\"currentPage\"\n                   :total=\"tableData.length\" style=\"float: right;\">\n    </el-pagination>\n\n\n    <!--新增弹框-->\n    <el-dialog title=\"\" :visible.sync=\"dialogVisible\" width=\"50%\" @close=\"dlgClose('crmCustomerFieldAdd')\">\n      <el-form ref=\"crmCustomerFieldAdd\" :model=\"crmCustomerFieldAdd\" :rules=\"field_rules\" label-position=\"left\" label-width=\"120px\" size=\"small\">\n        <el-form-item label=\"中文显示:\" prop=\"fieldName\">\n          <el-input v-model=\"crmCustomerFieldAdd.fieldName\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"是否显示:\" prop=\"isShow\">\n          <el-select v-model=\"crmCustomerFieldAdd.isShow\"  placeholder=\"请选择\">\n            <el-option\n              v-for=\"item in true_or_false\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"字段类型:\" prop=\"fieldType\">\n          <el-select v-model=\"crmCustomerFieldAdd.fieldType\"  placeholder=\"请选择\">\n            <el-option\n              v-for=\"item in field_type\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"字典名:\" prop=\"dictName\">\n          <el-input v-model=\"crmCustomerFieldAdd.dictName\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"占格数:\" prop=\"cosSpan\">\n          <el-input v-model=\"crmCustomerFieldAdd.cosSpan\"></el-input>\n        </el-form-item>\n        <el-form-item v-show=\"false\" label=\"主键:\" prop=\"id\">\n          <el-input   :disabled=\"true\" v-model=\"crmCustomerFieldAdd.id\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"排序:\" prop=\"sortNum\">\n          <el-input v-model=\"crmCustomerFieldAdd.sortNum\"></el-input>\n        </el-form-item>\n\n      </el-form>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"dialogVisible = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"crmCustomerFieldSave('crmCustomerFieldAdd')\">确 定</el-button>\n        </span>\n    </el-dialog>\n\n\n  </div>\n</template>\n\n<script>\n  import {mapState, mapActions, mapMutations} from 'vuex'\n\n  export default {\n\n\n    data() {\n\n      return {\n        tableName: 'crm_customer',  //  表名\n        tableList: [\n          {value: 'crm_customer', label: '客户'},\n          {value: 'crm_contacts', label: '联系人'},\n          {value: 'crm_marketing_clue', label: '营销线索'},\n          {value: 'crm_competitor', label: '竞争对手'},\n          {value: 'crm_marketing_opportunity', label: '营销机会'},\n          {value: 'crm_partner', label: '合作伙伴'},\n          // {value: '', label: '竞争对手'},\n          // {value: '', label: '营销线索'},\n          // {value: '', label: '机会'},\n          // {value: '', label: '营销合同'},\n          // {value: '', label: '采购合同'},\n        ],    //  表名列表\n\n        currentPage: 1,//默认开始页面\n        pagesize: 50,//每页的数据条数\n        tableData: [],//table数据\n        dialogVisible: false,//弹框是否显示\n        savaflag :'',//操作标识符\n        crmCustomerFieldAdd: {\n          'id': '',\n          'fieldNo': '',\n          'fieldName': '',\n          'isShow': '',\n          'fieldType': '',\n          'dictName': '',\n          'cosSpan': '1',\n          'sortNum': '',\n        },\n        selectValue:[],//勾选的数据\n\n        true_or_false: [{//是否显示下拉框\n          value: 'true',\n          label: '是'\n        }, {\n          value: 'false',\n          label: '否'\n        }],\n        field_type: [{//字段类型\n          value: 'text',\n          label: '文本'\n        }, {\n          value: 'date',\n          label: '时间'\n        }, {\n          value: 'dict',\n          label: '字典'\n        }],\n\n        field_rules :{//必填校验\n          fieldNo: [\n            { required: true, message: '请输入中文显示', trigger: 'blur' },\n          ],\n          fieldName: [\n            { required: true, message: '请输入中文显示', trigger: 'blur' },\n          ],\n          isShow: [\n            { required: true, message: '请选择是否显示', trigger: 'blur' },\n          ],\n          fieldType: [\n            { required: true, message: '请选择字段类型', trigger: 'blur' },\n          ],\n          sortNum: [\n            { required: true, message: '请输入排序', trigger: 'blur' },\n          ],\n\n        },\n\n      }\n\n    },\n    mounted() {\n\n      //初始化表格数据\n      this.getTableField();\n\n\n    },\n\n    methods: {\n      //  获取表格数据\n      getTableField(){\n        this.$post(\"/crm/extFieldPR/queryAll\", {tableName: this.tableName}, (data) => {\n          this.tableData = data.list;\n        })\n      },\n\n      /**\n       * 关闭弹框清空表单\n       */\n      dlgClose(crmCustomerFieldAdd){\n        this.crmCustomerFieldAdd = {\n          'id': '',\n          'fieldNo': '',\n          'fieldName': '',\n          'isShow': '',\n          'fieldType': '',\n          'dictName': '',\n          'cosSpan': '1',\n          'sortNum': '',\n        }\n      },\n\n      /**\n       * 分页\n       */\n      handleCurrentChange(val){\n        this.currentPage = val;\n      },\n\n      /**\n       * 新增按钮\n       */\n      addCrmField() {\n        this.savaflag = 'add';\n        this.dialogVisible = true;\n        this.crmCustomerFieldAdd.sortNum = this.tableData.length + 1\n      },\n\n\n      /**\n       * 修改按钮\n       */\n      updateCrmField() {\n        //只能勾选一条数据\n        if (this.selectValue.length != 1) {\n          this.$message.error('请勾选一条数据！');\n          return;\n        };\n\n        //取勾选的数据\n        this.crmCustomerFieldAdd = this.selectValue[0];\n        //设置保存时标识符\n        this.savaflag = 'edit';\n        //显示弹框\n        this.dialogVisible = true;\n      },\n\n      /**\n       * 删除按钮\n       */\n      deleteCrmField() {\n\n        var select_value = this.selectValue;\n        if (select_value.length < 1) {\n          this.$message.error('请勾选数据！');\n          return;\n        };\n        let list = []\n        this.selectValue.map(item => {\n          list.push(item.id)\n        })\n        this.$post('/crm/extFieldPR/delete', {\"list\": list}, (data) => {\n          this.$refs.table.clearSelection()\n          this.getTableField();\n          this.$message.success('操作成功！');\n        })\n\n      },\n\n      /**\n       * 保存数据\n       */\n      crmCustomerFieldSave(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            var action = '';\n\n            if ('add'== this.savaflag) {\n              action = \"/crm/extFieldPR/addOne\";\n            }\n\n            if ('edit'== this.savaflag) {\n              action = \"/crm/extFieldPR/modifyOne\";\n            }\n            this.crmCustomerFieldAdd['tableName'] = this.tableName\n            this.$post(action, this.crmCustomerFieldAdd, (data) => {\n              this.$message.success('操作成功！');\n              this.$refs.table.clearSelection()\n              this.getTableField();\n              this.dialogVisible = false;\n            })\n          }\n        })\n\n\n      },\n\n      /**\n       * 勾选的数据\n       */\n      handleSelectionChange(val) {\n        this.selectValue = val;\n      }\n\n\n    },\n\n\n  }\n</script>\n<style lang=\"less\" scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/CrmCustomerField.vue"],"sourceRoot":""}